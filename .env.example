# ========================================
# EYRA BACKEND - ENVIRONMENT VARIABLES
# ========================================

# Server Configuration
PORT=5000
NODE_ENV=production

# Database
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/eyra?retryWrites=true&w=majority

# Security
JWT_SECRET=CHANGE_THIS_TO_STRONG_RANDOM_SECRET_IN_PRODUCTION
JWT_EXPIRES_IN=30d

# CORS
CLIENT_ORIGIN=https://your-frontend-domain.com
MOBILE_ORIGIN=https://your-app-domain.com

# LiveKit (Video/Audio)
LIVEKIT_URL=wss://your-livekit-instance.livekit.cloud
LIVEKIT_API_KEY=your_api_key
LIVEKIT_API_SECRET=your_api_secret

# Firebase Realtime Database (Optional - if using Firebase)
FIREBASE_DATABASE_URL=https://your-project.firebaseio.com
# FIREBASE_SERVICE_ACCOUNT={"type":"service_account",...}

# Redis (Optional - for caching)
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=

# ========================================
# PRESENCE SYSTEM CONFIGURATION
# ========================================

# Heartbeat timeout (ms) - how long to wait before marking user offline
# Client should send heartbeat every 5 seconds
PRESENCE_HEARTBEAT_TIMEOUT_MS=15000

# Sweep interval (ms) - how often to check for stale connections
PRESENCE_SWEEP_INTERVAL_MS=3000

# Server-side heartbeat (optional backup)
# Only enable if you need server-side heartbeat fallback
PRESENCE_ENABLE_SERVER_HEARTBEAT=false
PRESENCE_SERVER_HEARTBEAT_INTERVAL_MS=10000

# ========================================
# SOCKET.IO CONFIGURATION
# ========================================

# IMPORTANT: MUST be false in production!
# Only set to true for local development/testing without JWT
SOCKET_ALLOW_INSECURE_USERID=false

# ========================================
# AUTHENTICATION PROVIDERS (Optional)
# ========================================

# Google OAuth
# GOOGLE_CLIENT_ID=your_google_client_id

# Apple Sign In
# APPLE_CLIENT_ID=com.your.app

# ========================================
# PAYMENT SYSTEM (Sandbox first)
# ========================================

# Current supported provider: mock
PAYMENT_PROVIDER=mock

# HMAC secret for webhook signature verification
PAYMENT_WEBHOOK_SECRET=CHANGE_THIS_WEBHOOK_SECRET

# Mobile deep links or web URLs
PAYMENT_SUCCESS_URL=eyra://payment/success
PAYMENT_CANCEL_URL=eyra://payment/cancel
